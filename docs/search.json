[
  {
    "objectID": "topics/Population and Demographic Change/02_age_structure.html",
    "href": "topics/Population and Demographic Change/02_age_structure.html",
    "title": "Age Structure",
    "section": "",
    "text": "List available resources. This will be in the backend to create the different datasets.\nTITOLO\nbla bla bla\nsiamo vecchi\nbla bla bla\nnon facciamo figli\nbla bla bla\neeeeeeeeh ai tempi miei signora mia\nbla bla bla\nTITOLO 2\n\n\n\n Back to top",
    "crumbs": [
      "Population and Demographic Change",
      "Age Structure"
    ]
  },
  {
    "objectID": "topics/Health/01_heath_test.html",
    "href": "topics/Health/01_heath_test.html",
    "title": "Health test",
    "section": "",
    "text": "Back to top",
    "crumbs": [
      "Health",
      "Health test"
    ]
  },
  {
    "objectID": "topics/Poverty and Economic Development/01_economic_growth.html",
    "href": "topics/Poverty and Economic Development/01_economic_growth.html",
    "title": "Economic Growth",
    "section": "",
    "text": "Introduction\nGood health, nutrition, a place to live, education… Many of the things we care most about require goods and services produced by people: the care that nurses and doctors give; the food we eat; the homes we live in; the education that teachers provide.\nResearch & Writing\nHere research and writing.\nCharts\nCite This Work\nUse This Work\n\n\n Back to top",
    "crumbs": [
      "Poverty and Economic Development",
      "Economic Growth"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Our Italy In Data",
    "section": "",
    "text": "Our Italy In Data draft.\n\n\n\n Back to top"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\nDraft!\n\n\n\n Back to top"
  },
  {
    "objectID": "topics/TEST/test.html",
    "href": "topics/TEST/test.html",
    "title": "test",
    "section": "",
    "text": "Codesource(\"~/R/OIID/topics/function.R\")\nlibrary(tidyverse, verbose = FALSE)\nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(rsdmx)\nlibrary(owidR)\nlibrary(reticulate)\nlibrary(gt)\nlibrary(scales, verbose = FALSE)\nlibrary(janitor)\nlibrary(shiny)\nlibrary(plotly)\nlibrary(ggiraph)\nlibrary(readr)  # For reading and writing CSV files\nlibrary(R.utils)  # For gzip compression\n\n\n\nCoderead_db &lt;- function(id, dsd, path, version) {\n  \n  csv_path &lt;- str_c(path, id, \".csv.gz\")\n  \n  if (file.exists(csv_path)) {\n    # If the compressed CSV file exists, read data from the file\n    df &lt;- read_csv(csv_path)\n  } else {\n    # If the compressed CSV file does not exist, read data using readSDMX and save to compressed CSV\n    df &lt;- readSDMX(\n        providerId = \"ISTAT\",\n        resource = \"data\", \n        flowRef = id,\n        dsd = dsd\n      ) %&gt;% \n        as.data.frame(labels = TRUE)\n      \n      # Save data to CSV file and compress it\n      write_csv(df, str_c(path, id, \".csv\"))\n      gzip(str_c(path, id, \".csv\"), destname = csv_path, remove = TRUE)\n  }\n  \n  return(df)\n}\n\n\n\nCode# List available resources. This will be in the backend to create the different datasets.\nresources &lt;- readSDMX(providerId = \"ISTAT\", resource = \"dataflow\") %&gt;% \n  as_tibble()\n\n\nSuicide time series\nTotal data for M and F.\n\nCode# import suicide dataset\nsuicide &lt;- read_db(\n  id = \"39_1005\",\n  dsd = TRUE,\n  path = \"~/R/OIID/topics/TEST/datasets/\",\n  version = \"1.0\"\n  )\n\nsuicide &lt;- suicide %&gt;% \n  mutate(year = ymd(str_c(obsTime, \"-01-01\"))) %&gt;%\n  janitor::clean_names() %&gt;%\n  rename(value = obs_value) %&gt;%\n  select(year, matches(\"_it\"), value) %&gt;% \n  rename(\n    sesso = sesso_label_it\n    )\n# plot suicide dataset \nsuicide_total &lt;- suicide %&gt;% \n  filter(\n    mod_suicidio_label_it == \"tutte le voci\" &\n      eta_label_it == \"totale\" &\n      paese_cittad_label_it == \"Italia\" &\n      istruzione_label_it == \"totale\" &\n      terr_res_label_it == \"Italia\" & # Totale\n      tipo_dato_label_it == \"morti\" &\n      sesso != \"totale\" &\n      stato_civ_label_it == \"totale\" &\n      malattie_fisiche_label_it == \"tutte le voci\" &\n      malattie_mentali_label_it == \"tutte le voci\" &\n      mese_decesso_label_it == \"anno\"\n  )\n\n# plot\nline_suicide &lt;- ggplot(suicide_total) +\n  geom_line(aes(x = year, y = value, colour = sesso)) +\n  geom_point(aes(x = year, y = value, colour = sesso)) +\n  theme_classic() +\n  scale_color_brewer(palette = \"Dark2\") +\n  labs(\n    title = \"Time Series of Suicide\",\n    subtitle = \"By Year and Sex\",\n    x = \"Anni\",\n    y = \"Valore\",\n    color = \"Sesso\"\n  ) +\n  scale_x_date(breaks = pretty_breaks(n = 10)) +\n  scale_y_continuous(\n    breaks = pretty_breaks(n = 10),\n    labels = scales::number_format(big.mark = \",\")\n    )\nggplotly(line_suicide) %&gt;% \n  layout(hovermode=\"x unified\")\n\n\n\n\n\nFelonies\n\nCodefelonies_db &lt;- read_db(\n  id = \"73_58\",\n  dsd = TRUE,\n  path = \"~/R/OIID/topics/TEST/datasets/\",\n  version = \"1.4\"\n  )\n\nfelonies &lt;- felonies_db %&gt;%\n  mutate(year = ymd(str_c(obsTime, \"-01-01\"))) %&gt;%\n  janitor::clean_names() %&gt;%\n  rename(value = obs_value) %&gt;%\n  select(year, matches(\"_it\"), value) %&gt;% \n  rename_with(~ str_remove(.x, \"_label_it$\")) %&gt;% \n  filter(\n    tipo_reato == \"delitti contro l'incolumità individuale\" |\n      tipo_reato %&gt;% str_detect(\"omicidio\") |\n      tipo_reato %&gt;% str_detect(\"violenza sessuale\") |\n      tipo_reato %&gt;% str_detect(\"violenza privata\")\n    ) %&gt;% \n  filter(\n    interv_reato_sent == \"totale\" &\n      eta_reato == \"totale\" &\n      eta_reatograve == \"totale\" &\n      distr_corteapp == \"tutti i distretti\" &\n      uff_giud == \"tutte le voci\" &\n      itter107 == \"Italia\" &\n      misure_sicur == \"tutte le voci\" &\n      natura_reato == \"tutte le voci\" &\n      precedenti == \"tutte le voci\" &\n      sesso != \"totale\" &\n      tipo_dato == \"numero di condannati per delitto con sentenza irrevocabile\" &\n      anno_reato == \"tutte le voci\"\n  )\n\n\n\n\nTotal\nomicidio del consenziente consumato\nOmicidio Colposo\nOmicidio Volontario\nOmicidio Volontario Consumato\nOmicidio Volontario Tentato\nOmicidio Preterintenzionale\nViolenza Privata Tentata\nViolenza Privata\nViolenza Sessuale di Gruppo\nViolenza Sessuale\n\n\n\n\nCodefelonies_total &lt;- felonies %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = felonies_total,\n  x = felonies_total$year,\n  y = felonies_total$value,\n  colour = felonies_total$sesso,\n  palette = \"Dark2\",\n  title = \"Totale dei Reati\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nCodeomicidio_consenziente_consumato &lt;- felonies %&gt;% \n  filter(tipo_reato == \"omicidio del consenziente consumato\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_consenziente_consumato,\n  x = omicidio_consenziente_consumato$year,\n  y = omicidio_consenziente_consumato$value,\n  colour = omicidio_consenziente_consumato$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio del consenziente consumato\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nCodeomicidio_colposo &lt;- felonies %&gt;% \n  filter(tipo_reato == \"omicidio colposo\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_colposo,\n  x = omicidio_colposo$year,\n  y = omicidio_colposo$value,\n  colour = omicidio_colposo$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio del consenziente consumato\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nCodeomicidio_volontario &lt;- felonies %&gt;% \n  filter(tipo_reato == \"omicidio volontario\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_volontario,\n  x = omicidio_volontario$year,\n  y = omicidio_volontario$value,\n  colour = omicidio_volontario$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio volontario\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nCodeomicidio_volontario_consumato &lt;- felonies %&gt;% \n  filter(tipo_reato == \"omicidio volontario consumato\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_volontario_consumato,\n  x = omicidio_volontario_consumato$year,\n  y = omicidio_volontario_consumato$value,\n  colour = omicidio_volontario_consumato$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio volontario consumato\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nCodeomicidio_volontario_tentato &lt;- felonies %&gt;% \n  filter(tipo_reato == \"omicidio volontario tentato\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_volontario_tentato,\n  x = omicidio_volontario_tentato$year,\n  y = omicidio_volontario_tentato$value,\n  colour = omicidio_volontario_tentato$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio volontario tentato\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nCodeomicidio_volontario_preterintenzionale &lt;- felonies %&gt;% \n  filter(tipo_reato == \"omicidio volontario preterintenzionale\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_volontario_preterintenzionale,\n  x = omicidio_volontario_preterintenzionale$year,\n  y = omicidio_volontario_preterintenzionale$value,\n  colour = omicidio_volontario_preterintenzionale$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio volontario preterintenzionale\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n[1] \"Non ci sono dati disponibili.\"\n\n\n\n\n\nCodeviolenza_privata_tentata &lt;- felonies %&gt;% \n  filter(tipo_reato == \"violenza privata tentata\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = violenza_privata_tentata,\n  x = violenza_privata_tentata$year,\n  y = violenza_privata_tentata$value,\n  colour = violenza_privata_tentata$sesso,\n  palette = \"Dark2\",\n  title = \"Violenza Privata Tentata\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nCodeviolenza_privata &lt;- felonies %&gt;% \n  filter(tipo_reato == \"violenza privata\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = violenza_privata,\n  x = violenza_privata$year,\n  y = violenza_privata$value,\n  colour = violenza_privata$sesso,\n  palette = \"Dark2\",\n  title = \"Violenza Privata\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nCodeviolenza_sessuale_gruppo &lt;- felonies %&gt;% \n  filter(tipo_reato == \"violenza sessuale di gruppo\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = violenza_sessuale_gruppo,\n  x = violenza_sessuale_gruppo$year,\n  y = violenza_sessuale_gruppo$value,\n  colour = violenza_sessuale_gruppo$sesso,\n  palette = \"Dark2\",\n  title = \"Violenza Sessuale di Gruppo\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nCodeviolenza_sessuale &lt;- felonies %&gt;% \n  filter(tipo_reato == \"violenza sessuale\") %&gt;% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = violenza_sessuale,\n  x = violenza_sessuale$year,\n  y = violenza_sessuale$value,\n  colour = violenza_sessuale$sesso,\n  palette = \"Dark2\",\n  title = \"Violenza Sessuale\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\"\n  )\n\n\n\n\n\n\n\n\nPopulation\n\nCodepopulation &lt;- read_db(\n  id = \"52_1194\",\n  dsd = TRUE,\n  path = \"~/R/OIID/topics/TEST/datasets/\",\n  version = \"1.5\"\n  )\n\n\n\nCodepopulation &lt;- population %&gt;% \n  mutate(year = ymd(str_c(obsTime, \"-01-01\"))) %&gt;%\n  janitor::clean_names() %&gt;%\n  rename(value = obs_value) %&gt;%\n  select(year, matches(\"_it\"), value) %&gt;% \n  rename_with(~ str_remove(.x, \"_label_it$\"))\n\n\n\nCodepopulation_total &lt;- population %&gt;% \n  filter(\n    itter107 == \"Italia\" &\n      sesso != \"totale\" &\n      cittadinanza == \"totale\" &\n      titolo_studio == \"totale\" &\n      (classe_eta == \"15-64 anni\" | classe_eta == \"65 anni e più\")\n  ) %&gt;% \n  summarise(\n    sum = sum(value) * 1000,\n    .by = c(year, sesso)\n  ) %&gt;% \n  filter(!is.na(year))\n\nline_population &lt;- ggplot(population_total) +\n  geom_line(aes(x = year, y = sum, colour = sesso)) +\n  geom_point(aes(x = year, y = sum, colour = sesso, text = paste(\"Year: \", year, \"&lt;br&gt;Sum: \", scales::comma(sum)))) +\n  theme_classic() +\n  scale_color_brewer(palette = \"Dark2\") +\n  labs(\n    title = \"Time Series of Suicide\",\n    subtitle = \"By Year and Sex\",\n    x = \"Anni\",\n    y = \"Valore\",\n    color = \"Sesso\"\n  ) +\n  scale_x_continuous(breaks = pretty_breaks(n = 10)) +\n  scale_y_continuous(\n    breaks = pretty_breaks(n = 10),\n    labels = scales::comma\n  )\n\nplot &lt;- ggplotly(line_population, tooltip = c(\"text\")) %&gt;% \n  layout(hovermode = \"x unified\")\n\nplot\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Topics",
      "TEST",
      "test"
    ]
  },
  {
    "objectID": "topics/Population and Demographic Change/01_population_growth.html",
    "href": "topics/Population and Demographic Change/01_population_growth.html",
    "title": "Population Growth",
    "section": "",
    "text": "List available resources. This will be in the backend to create the different datasets.\n\n\nPer sesso - popolazione al 1 gennaio\nShiny\n\n\n\n\n\n\n\n\n\n\nTITOLO\nbla bla bla\nsiamo vecchi\nbla bla bla\nnon facciamo figli\nbla bla bla\neeeeeeeeh ai tempi miei signora mia\nbla bla bla\nTITOLO 2\n\n\n Back to top",
    "crumbs": [
      "Population and Demographic Change",
      "Population Growth"
    ]
  },
  {
    "objectID": "topics/TEST/test.knit.html",
    "href": "topics/TEST/test.knit.html",
    "title": "test",
    "section": "",
    "text": "── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nAttaching package: 'scales'\n\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\n\n\nAttaching package: 'janitor'\n\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\n\n\nAttaching package: 'plotly'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\n\nThe following object is masked from 'package:stats':\n\n    filter\n\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\n\n\n\nLoading required package: R.oo\n\n\nLoading required package: R.methodsS3\n\n\nR.methodsS3 v1.8.2 (2022-06-13 22:00:14 UTC) successfully loaded. See ?R.methodsS3 for help.\n\n\nR.oo v1.26.0 (2024-01-24 05:12:50 UTC) successfully loaded. See ?R.oo for help.\n\n\n\nAttaching package: 'R.oo'\n\n\nThe following object is masked from 'package:R.methodsS3':\n\n    throw\n\n\nThe following object is masked from 'package:shiny':\n\n    printStackTrace\n\n\nThe following objects are masked from 'package:methods':\n\n    getClasses, getMethods\n\n\nThe following objects are masked from 'package:base':\n\n    attach, detach, load, save\n\n\nR.utils v2.12.3 (2023-11-18 01:00:02 UTC) successfully loaded. See ?R.utils for help.\n\n\n\nAttaching package: 'R.utils'\n\n\nThe following objects are masked from 'package:shiny':\n\n    setProgress, validate\n\n\nThe following object is masked from 'package:tidyr':\n\n    extract\n\n\nThe following object is masked from 'package:utils':\n\n    timestamp\n\n\nThe following objects are masked from 'package:base':\n\n    cat, commandArgs, getOption, isOpen, nullfile, parse, use, warnings\n\n\n\n73_440 - Procedimenti e reati al momento della decisione del PM - adulti\n22_289 - Popolazione residente al 1° gennaio\n39_1005 - Suicidi - popolazione di 15 anni e oltre\n78_1112 - Donne che hanno subito violenza - caratteristiche demografiche e abitudini\n78_71 - Donne che hanno subito violenza dal partner o ex-partner\n78_72 - Donne che hanno subito violenza da un uomo\n\n\nSuicide time series\nTotal data for M and F.\n\n\nRows: 173184 Columns: 38\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (33): FREQ, FREQ_label.en, FREQ_label.it, MOD_SUICIDIO, MOD_SUICIDIO_lab...\ndbl  (5): ISTRUZIONE, SESSO, STATO_CIV, obsTime, obsValue\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\n\n\n\n\n\n\nFelonies\n\n\nPopulation\n\n\n\n\n Back to top",
    "crumbs": [
      "Topics",
      "TEST",
      "test"
    ]
  }
]