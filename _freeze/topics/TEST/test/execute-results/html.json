{
  "hash": "35c7d1e007cc400cf82f2ddfe35bfb01",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"test\"\nsidebar: false\nfilters:\n  - shinylive\nexecute:\n  eval: true\n  cache: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nsource(\"~/R/OIID/topics/function.R\")\nlibrary(tidyverse, verbose = FALSE)\nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(rsdmx)\nlibrary(owidR)\nlibrary(reticulate)\nlibrary(gt)\nlibrary(scales, verbose = FALSE)\nlibrary(janitor)\nlibrary(shiny)\nlibrary(shinylive)\nlibrary(thematic)\nlibrary(waiter)\nlibrary(plotly)\nlibrary(ggiraph)\nlibrary(fst)\nlibrary(readr)  # For reading and writing CSV files\nlibrary(R.utils)  # For gzip compression\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# List available resources. This will be in the backend to create the different datasets.\nurl <- \"http://sdmx.istat.it/SDMXWS/rest/dataflow/\"\ndata <- readSDMX(url) %>% as.data.frame(labels = TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(httr)\nlibrary(tidyverse)\nlibrary(rsdmx)\n\n# URL to download data\nurl <- \"https://sdmx.istat.it/SDMXWS/rest/dataflow/\"\n# Fetch the data using rsdmx\nsdmx_data <- readSDMX(url) %>% as_tibble(labels = TRUE)\n```\n:::\n\n\n\n\n# Suicidi\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nproviders <- getSDMXServiceProviders() %>% as.data.frame(providers)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# import suicide dataset\nsuicide <- read_db(\n  id = \"39_1005\",\n  # dsd = TRUE,\n  path = \"~/R/OIID/topics/TEST/datasets/\",\n  version = \"1.0\"\n  )\n\n# plot suicide dataset \nsuicide_total <- suicide %>% \n  filter(\n    mod_suicidio == \"tutte le voci\" &\n      eta == \"totale\" &\n      paese_cittad == \"Italia\" &\n      istruzione == \"totale\" &\n      terr_res == \"Italia\" & # Totale\n      tipo_dato == \"morti\" &\n      sesso != \"totale\" &\n      stato_civ == \"totale\" &\n      malattie_fisiche == \"tutte le voci\" &\n      malattie_mentali == \"tutte le voci\" &\n      mese_decesso == \"anno\"\n  )\n\nplot_time_series(\n  t = suicide_total,\n  x = suicide_total$year,\n  x_text = \"Anni\",\n  y = suicide_total$value,\n  y_text = \"Numero\",\n  colour = suicide_total$sesso,\n  palette = \"Dark2\",\n  title = \"\",\n  subtitle = \"\",\n  xlabs = \"Anni\",\n  ylabs = \"Numero\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-1d7bacfc8303b1e8260b\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-1d7bacfc8303b1e8260b\">{\"x\":{\"data\":[{\"x\":[14975,15340,15706,16071,16436,16801,17167,17532,17897,18262,18628],\"y\":[812,878,912,901,839,773,801,800,765,749,752],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[14975,15340,15706,16071,16436,16801,17167,17532,17897,18262,18628],\"y\":[3104,3121,3162,3092,2980,2903,2889,2749,2743,2748,2834],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[14975,15340,15706,16071,16436,16801,17167,17532,17897,18262,18628],\"y\":[812,878,912,901,839,773,801,800,765,749,752],\"text\":[\"Anni: 2011-01-01<br>Numero: 812\",\"Anni: 2012-01-01<br>Numero: 878\",\"Anni: 2013-01-01<br>Numero: 912\",\"Anni: 2014-01-01<br>Numero: 901\",\"Anni: 2015-01-01<br>Numero: 839\",\"Anni: 2016-01-01<br>Numero: 773\",\"Anni: 2017-01-01<br>Numero: 801\",\"Anni: 2018-01-01<br>Numero: 800\",\"Anni: 2019-01-01<br>Numero: 765\",\"Anni: 2020-01-01<br>Numero: 749\",\"Anni: 2021-01-01<br>Numero: 752\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[14975,15340,15706,16071,16436,16801,17167,17532,17897,18262,18628],\"y\":[3104,3121,3162,3092,2980,2903,2889,2749,2743,2748,2834],\"text\":[\"Anni: 2011-01-01<br>Numero: 3,104\",\"Anni: 2012-01-01<br>Numero: 3,121\",\"Anni: 2013-01-01<br>Numero: 3,162\",\"Anni: 2014-01-01<br>Numero: 3,092\",\"Anni: 2015-01-01<br>Numero: 2,980\",\"Anni: 2016-01-01<br>Numero: 2,903\",\"Anni: 2017-01-01<br>Numero: 2,889\",\"Anni: 2018-01-01<br>Numero: 2,749\",\"Anni: 2019-01-01<br>Numero: 2,743\",\"Anni: 2020-01-01<br>Numero: 2,748\",\"Anni: 2021-01-01<br>Numero: 2,834\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":26.228310502283108,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":54.794520547945211},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[14792.35,18810.650000000001],\"tickmode\":\"array\",\"ticktext\":[\"2011\",\"2012\",\"2013\",\"2014\",\"2015\",\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\"],\"tickvals\":[14975,15340,15706,16071,16436,16801,17167,17532,17897,18262,18628],\"categoryorder\":\"array\",\"categoryarray\":[\"2011\",\"2012\",\"2013\",\"2014\",\"2015\",\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[628.35000000000002,3282.6500000000001],\"tickmode\":\"array\",\"ticktext\":[\"800\",\"1,000\",\"1,200\",\"1,400\",\"1,600\",\"1,800\",\"2,000\",\"2,200\",\"2,400\",\"2,600\",\"2,800\",\"3,000\",\"3,200\"],\"tickvals\":[800,1000,1200,1400,1600,1800,2000,2200,2400,2600,2800,3000,3200],\"categoryorder\":\"array\",\"categoryarray\":[\"800\",\"1,000\",\"1,200\",\"1,400\",\"1,600\",\"1,800\",\"2,000\",\"2,200\",\"2,400\",\"2,600\",\"2,800\",\"3,000\",\"3,200\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Numero\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f6b80b7bb\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f4f9e8d20\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f6b80b7bb\",\"visdat\":{\"13c6f6b80b7bb\":[\"function (y) \",\"x\"],\"13c6f4f9e8d20\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n# Reati\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfelonies_db <- read_db(\n  id = \"73_58\",\n  dsd = TRUE,\n  path = \"~/R/OIID/topics/TEST/datasets/\",\n  version = \"1.4\"\n  )\n\nfelonies <- felonies_db %>%\n  filter(\n    tipo_reato == \"delitti contro l'incolumitÃ  individuale\" |\n      tipo_reato %>% str_detect(\"omicidio\") |\n      tipo_reato %>% str_detect(\"violenza sessuale\") |\n      tipo_reato %>% str_detect(\"violenza privata\")\n    ) %>% \n  filter(\n    interv_reato_sent == \"totale\" &\n      eta_reato == \"totale\" &\n      eta_reatograve == \"totale\" &\n      distr_corteapp == \"tutti i distretti\" &\n      uff_giud == \"tutte le voci\" &\n      itter107 == \"Italia\" &\n      misure_sicur == \"tutte le voci\" &\n      natura_reato == \"tutte le voci\" &\n      precedenti == \"tutte le voci\" &\n      # sesso != \"totale\" &\n      tipo_dato == \"numero di condannati per delitto con sentenza irrevocabile\" &\n      anno_reato == \"tutte le voci\"\n  )\n```\n:::\n\n\n\n\n::: panel-tabset\n## Totale\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfelonies_total <- felonies %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = felonies_total,\n  x = felonies_total$year,\n  x_text = \"Anni\",\n  y = felonies_total$value,\n  y_text = \"Numero\",\n  colour = felonies_total$sesso,\n  palette = \"Dark2\",\n  title = \"Totale dei Reati\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-4a3623de51344a5045e0\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-4a3623de51344a5045e0\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[677,754,700,674,607,674,650,773,716,572,516,577,623,591],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[8218,9194,9141,8608,7620,8628,8543,10142,8246,6896,6176,6385,6698,6855],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[9816,11243,11090,9180,8975,10580,9429,10511,10396,13031,10151,7536,7071,9212,8144,8561,8771,9139],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[677,754,700,674,607,674,650,773,716,572,516,577,623,591],\"text\":[\"Anni: 2000-01-01<br>Numero: 677\",\"Anni: 2001-01-01<br>Numero: 754\",\"Anni: 2002-01-01<br>Numero: 700\",\"Anni: 2005-01-01<br>Numero: 674\",\"Anni: 2006-01-01<br>Numero: 607\",\"Anni: 2007-01-01<br>Numero: 674\",\"Anni: 2008-01-01<br>Numero: 650\",\"Anni: 2009-01-01<br>Numero: 773\",\"Anni: 2010-01-01<br>Numero: 716\",\"Anni: 2013-01-01<br>Numero: 572\",\"Anni: 2014-01-01<br>Numero: 516\",\"Anni: 2015-01-01<br>Numero: 577\",\"Anni: 2016-01-01<br>Numero: 623\",\"Anni: 2017-01-01<br>Numero: 591\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[8218,9194,9141,8608,7620,8628,8543,10142,8246,6896,6176,6385,6698,6855],\"text\":[\"Anni: 2000-01-01<br>Numero: 8,218\",\"Anni: 2001-01-01<br>Numero: 9,194\",\"Anni: 2002-01-01<br>Numero: 9,141\",\"Anni: 2005-01-01<br>Numero: 8,608\",\"Anni: 2006-01-01<br>Numero: 7,620\",\"Anni: 2007-01-01<br>Numero: 8,628\",\"Anni: 2008-01-01<br>Numero: 8,543\",\"Anni: 2009-01-01<br>Numero: 10,142\",\"Anni: 2010-01-01<br>Numero: 8,246\",\"Anni: 2013-01-01<br>Numero: 6,896\",\"Anni: 2014-01-01<br>Numero: 6,176\",\"Anni: 2015-01-01<br>Numero: 6,385\",\"Anni: 2016-01-01<br>Numero: 6,698\",\"Anni: 2017-01-01<br>Numero: 6,855\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167,12053,12418,14975,15340],\"y\":[9816,11243,11090,10580,9429,10511,10396,13031,10151,9212,8144,8561,8771,9139,9180,8975,7536,7071],\"text\":[\"Anni: 2000-01-01<br>Numero: 9,816\",\"Anni: 2001-01-01<br>Numero: 11,243\",\"Anni: 2002-01-01<br>Numero: 11,090\",\"Anni: 2005-01-01<br>Numero: 10,580\",\"Anni: 2006-01-01<br>Numero: 9,429\",\"Anni: 2007-01-01<br>Numero: 10,511\",\"Anni: 2008-01-01<br>Numero: 10,396\",\"Anni: 2009-01-01<br>Numero: 13,031\",\"Anni: 2010-01-01<br>Numero: 10,151\",\"Anni: 2013-01-01<br>Numero: 9,212\",\"Anni: 2014-01-01<br>Numero: 8,144\",\"Anni: 2015-01-01<br>Numero: 8,561\",\"Anni: 2016-01-01<br>Numero: 8,771\",\"Anni: 2017-01-01<br>Numero: 9,139\",\"Anni: 2003-01-01<br>Numero: 9,180\",\"Anni: 2004-01-01<br>Numero: 8,975\",\"Anni: 2011-01-01<br>Numero: 7,536\",\"Anni: 2012-01-01<br>Numero: 7,071\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":60.639269406392714},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Totale dei Reati\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-109.75,13656.75],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"1,000\",\"2,000\",\"3,000\",\"4,000\",\"5,000\",\"6,000\",\"7,000\",\"8,000\",\"9,000\",\"10,000\",\"11,000\",\"12,000\",\"13,000\"],\"tickvals\":[-1.4210854715202004e-14,1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"1,000\",\"2,000\",\"3,000\",\"4,000\",\"5,000\",\"6,000\",\"7,000\",\"8,000\",\"9,000\",\"10,000\",\"11,000\",\"12,000\",\"13,000\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f45f32471\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f5ddd9a97\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f45f32471\",\"visdat\":{\"13c6f45f32471\":[\"function (y) \",\"x\"],\"13c6f5ddd9a97\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Omicidio del Consenziente Consumato\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nomicidio_consenziente_consumato <- felonies %>% \n  filter(tipo_reato == \"omicidio del consenziente consumato\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_consenziente_consumato,\n  x = omicidio_consenziente_consumato$year,\n  x_text = \"Anni\",\n  y = omicidio_consenziente_consumato$value,\n  y_text = \"Numero\",\n  colour = omicidio_consenziente_consumato$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio del consenziente consumato\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-fd44e1aee05ee6061809\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-fd44e1aee05ee6061809\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[0,0,0,0,0,1,0,0,0,0,0,0,0,0],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[0,3,2,0,0,0,1,0,0,0,0,0,0,0],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[0,3,2,0,0,1,1,0,0,0,0,0,0,0],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[0,0,0,0,0,1,0,0,0,0,0,0,0,0],\"text\":[\"Anni: 2000-01-01<br>Numero: 0\",\"Anni: 2001-01-01<br>Numero: 0\",\"Anni: 2002-01-01<br>Numero: 0\",\"Anni: 2005-01-01<br>Numero: 0\",\"Anni: 2006-01-01<br>Numero: 0\",\"Anni: 2007-01-01<br>Numero: 1\",\"Anni: 2008-01-01<br>Numero: 0\",\"Anni: 2009-01-01<br>Numero: 0\",\"Anni: 2010-01-01<br>Numero: 0\",\"Anni: 2013-01-01<br>Numero: 0\",\"Anni: 2014-01-01<br>Numero: 0\",\"Anni: 2015-01-01<br>Numero: 0\",\"Anni: 2016-01-01<br>Numero: 0\",\"Anni: 2017-01-01<br>Numero: 0\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[0,3,2,0,0,0,1,0,0,0,0,0,0,0],\"text\":[\"Anni: 2000-01-01<br>Numero: 0\",\"Anni: 2001-01-01<br>Numero: 3\",\"Anni: 2002-01-01<br>Numero: 2\",\"Anni: 2005-01-01<br>Numero: 0\",\"Anni: 2006-01-01<br>Numero: 0\",\"Anni: 2007-01-01<br>Numero: 0\",\"Anni: 2008-01-01<br>Numero: 1\",\"Anni: 2009-01-01<br>Numero: 0\",\"Anni: 2010-01-01<br>Numero: 0\",\"Anni: 2013-01-01<br>Numero: 0\",\"Anni: 2014-01-01<br>Numero: 0\",\"Anni: 2015-01-01<br>Numero: 0\",\"Anni: 2016-01-01<br>Numero: 0\",\"Anni: 2017-01-01<br>Numero: 0\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[0,3,2,0,0,1,1,0,0,0,0,0,0,0],\"text\":[\"Anni: 2000-01-01<br>Numero: 0\",\"Anni: 2001-01-01<br>Numero: 3\",\"Anni: 2002-01-01<br>Numero: 2\",\"Anni: 2005-01-01<br>Numero: 0\",\"Anni: 2006-01-01<br>Numero: 0\",\"Anni: 2007-01-01<br>Numero: 1\",\"Anni: 2008-01-01<br>Numero: 1\",\"Anni: 2009-01-01<br>Numero: 0\",\"Anni: 2010-01-01<br>Numero: 0\",\"Anni: 2013-01-01<br>Numero: 0\",\"Anni: 2014-01-01<br>Numero: 0\",\"Anni: 2015-01-01<br>Numero: 0\",\"Anni: 2016-01-01<br>Numero: 0\",\"Anni: 2017-01-01<br>Numero: 0\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":43.105022831050235},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Omicidio del consenziente consumato\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.15000000000000002,3.1499999999999999],\"tickmode\":\"array\",\"ticktext\":[\"0.0\",\"0.5\",\"1.0\",\"1.5\",\"2.0\",\"2.5\",\"3.0\"],\"tickvals\":[0,0.5,0.99999999999999989,1.5,2,2.5,3],\"categoryorder\":\"array\",\"categoryarray\":[\"0.0\",\"0.5\",\"1.0\",\"1.5\",\"2.0\",\"2.5\",\"3.0\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f42dcdc9c\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f3217a80f\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f42dcdc9c\",\"visdat\":{\"13c6f42dcdc9c\":[\"function (y) \",\"x\"],\"13c6f3217a80f\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Omicidio Colposo\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nomicidio_colposo <- felonies %>% \n  filter(tipo_reato == \"omicidio colposo\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_colposo,\n  x = omicidio_colposo$year,\n  y = omicidio_colposo$value,\n  x_text = \"Anni\",\n  y_text = \"Numero\",\n  colour = omicidio_colposo$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio del consenziente consumato\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-cd7b070e28070104edf0\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-cd7b070e28070104edf0\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[482,489,506,402,339,381,365,388,367,338,302,295,324,307],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[3852,4052,3918,2877,2595,2785,2772,2961,2370,1777,1576,1623,1588,1485],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[4411,4654,4508,3927,3637,3367,2992,3218,3190,3398,2759,2694,2265,2115,1878,1918,1912,1792],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[482,489,506,402,339,381,365,388,367,338,302,295,324,307],\"text\":[\"Anni: 2000-01-01<br>Numero: 482\",\"Anni: 2001-01-01<br>Numero: 489\",\"Anni: 2002-01-01<br>Numero: 506\",\"Anni: 2005-01-01<br>Numero: 402\",\"Anni: 2006-01-01<br>Numero: 339\",\"Anni: 2007-01-01<br>Numero: 381\",\"Anni: 2008-01-01<br>Numero: 365\",\"Anni: 2009-01-01<br>Numero: 388\",\"Anni: 2010-01-01<br>Numero: 367\",\"Anni: 2013-01-01<br>Numero: 338\",\"Anni: 2014-01-01<br>Numero: 302\",\"Anni: 2015-01-01<br>Numero: 295\",\"Anni: 2016-01-01<br>Numero: 324\",\"Anni: 2017-01-01<br>Numero: 307\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[3852,4052,3918,2877,2595,2785,2772,2961,2370,1777,1576,1623,1588,1485],\"text\":[\"Anni: 2000-01-01<br>Numero: 3,852\",\"Anni: 2001-01-01<br>Numero: 4,052\",\"Anni: 2002-01-01<br>Numero: 3,918\",\"Anni: 2005-01-01<br>Numero: 2,877\",\"Anni: 2006-01-01<br>Numero: 2,595\",\"Anni: 2007-01-01<br>Numero: 2,785\",\"Anni: 2008-01-01<br>Numero: 2,772\",\"Anni: 2009-01-01<br>Numero: 2,961\",\"Anni: 2010-01-01<br>Numero: 2,370\",\"Anni: 2013-01-01<br>Numero: 1,777\",\"Anni: 2014-01-01<br>Numero: 1,576\",\"Anni: 2015-01-01<br>Numero: 1,623\",\"Anni: 2016-01-01<br>Numero: 1,588\",\"Anni: 2017-01-01<br>Numero: 1,485\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[4411,4654,4508,3927,3637,3367,2992,3218,3190,3398,2759,2694,2265,2115,1878,1918,1912,1792],\"text\":[\"Anni: 2000-01-01<br>Numero: 4,411\",\"Anni: 2001-01-01<br>Numero: 4,654\",\"Anni: 2002-01-01<br>Numero: 4,508\",\"Anni: 2003-01-01<br>Numero: 3,927\",\"Anni: 2004-01-01<br>Numero: 3,637\",\"Anni: 2005-01-01<br>Numero: 3,367\",\"Anni: 2006-01-01<br>Numero: 2,992\",\"Anni: 2007-01-01<br>Numero: 3,218\",\"Anni: 2008-01-01<br>Numero: 3,190\",\"Anni: 2009-01-01<br>Numero: 3,398\",\"Anni: 2010-01-01<br>Numero: 2,759\",\"Anni: 2011-01-01<br>Numero: 2,694\",\"Anni: 2012-01-01<br>Numero: 2,265\",\"Anni: 2013-01-01<br>Numero: 2,115\",\"Anni: 2014-01-01<br>Numero: 1,878\",\"Anni: 2015-01-01<br>Numero: 1,918\",\"Anni: 2016-01-01<br>Numero: 1,912\",\"Anni: 2017-01-01<br>Numero: 1,792\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":54.794520547945211},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Omicidio del consenziente consumato\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[77.049999999999983,4871.9499999999998],\"tickmode\":\"array\",\"ticktext\":[\"500\",\"1,000\",\"1,500\",\"2,000\",\"2,500\",\"3,000\",\"3,500\",\"4,000\",\"4,500\"],\"tickvals\":[500,1000,1500,2000,2500,3000,3500,4000.0000000000005,4500],\"categoryorder\":\"array\",\"categoryarray\":[\"500\",\"1,000\",\"1,500\",\"2,000\",\"2,500\",\"3,000\",\"3,500\",\"4,000\",\"4,500\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f66e9ed35\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f7d4675c\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f66e9ed35\",\"visdat\":{\"13c6f66e9ed35\":[\"function (y) \",\"x\"],\"13c6f7d4675c\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Omicidio Volontario\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nomicidio_volontario <- felonies %>% \n  filter(tipo_reato == \"omicidio volontario\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_volontario,\n  x = omicidio_volontario$year,\n  y = omicidio_volontario$value,\n  x_text = \"Anni\",\n  y_text = \"Numero\",\n  colour = omicidio_volontario$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio volontario\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-32a0bfae273ef525d5e3\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-32a0bfae273ef525d5e3\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[21,39,32,42,31,45,31,41,45,38,31,49,43,46],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[851,1089,1085,1298,1038,1131,1066,1248,984,977,978,914,1030,1049],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[847,1180,1156,1282,1327,1370,1109,1227,1152,1370,1023,952,943,1015,1009,963,1073,1095],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[21,39,32,42,31,45,31,41,45,38,31,49,43,46],\"text\":[\"Anni: 2000-01-01<br>Numero: 21\",\"Anni: 2001-01-01<br>Numero: 39\",\"Anni: 2002-01-01<br>Numero: 32\",\"Anni: 2005-01-01<br>Numero: 42\",\"Anni: 2006-01-01<br>Numero: 31\",\"Anni: 2007-01-01<br>Numero: 45\",\"Anni: 2008-01-01<br>Numero: 31\",\"Anni: 2009-01-01<br>Numero: 41\",\"Anni: 2010-01-01<br>Numero: 45\",\"Anni: 2013-01-01<br>Numero: 38\",\"Anni: 2014-01-01<br>Numero: 31\",\"Anni: 2015-01-01<br>Numero: 49\",\"Anni: 2016-01-01<br>Numero: 43\",\"Anni: 2017-01-01<br>Numero: 46\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[851,1089,1085,1298,1038,1131,1066,1248,984,977,978,914,1030,1049],\"text\":[\"Anni: 2000-01-01<br>Numero: 851\",\"Anni: 2001-01-01<br>Numero: 1,089\",\"Anni: 2002-01-01<br>Numero: 1,085\",\"Anni: 2005-01-01<br>Numero: 1,298\",\"Anni: 2006-01-01<br>Numero: 1,038\",\"Anni: 2007-01-01<br>Numero: 1,131\",\"Anni: 2008-01-01<br>Numero: 1,066\",\"Anni: 2009-01-01<br>Numero: 1,248\",\"Anni: 2010-01-01<br>Numero: 984\",\"Anni: 2013-01-01<br>Numero: 977\",\"Anni: 2014-01-01<br>Numero: 978\",\"Anni: 2015-01-01<br>Numero: 914\",\"Anni: 2016-01-01<br>Numero: 1,030\",\"Anni: 2017-01-01<br>Numero: 1,049\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[847,1180,1156,1282,1327,1370,1109,1227,1152,1370,1023,952,943,1015,1009,963,1073,1095],\"text\":[\"Anni: 2000-01-01<br>Numero: 847\",\"Anni: 2001-01-01<br>Numero: 1,180\",\"Anni: 2002-01-01<br>Numero: 1,156\",\"Anni: 2003-01-01<br>Numero: 1,282\",\"Anni: 2004-01-01<br>Numero: 1,327\",\"Anni: 2005-01-01<br>Numero: 1,370\",\"Anni: 2006-01-01<br>Numero: 1,109\",\"Anni: 2007-01-01<br>Numero: 1,227\",\"Anni: 2008-01-01<br>Numero: 1,152\",\"Anni: 2009-01-01<br>Numero: 1,370\",\"Anni: 2010-01-01<br>Numero: 1,023\",\"Anni: 2011-01-01<br>Numero: 952\",\"Anni: 2012-01-01<br>Numero: 943\",\"Anni: 2013-01-01<br>Numero: 1,015\",\"Anni: 2014-01-01<br>Numero: 1,009\",\"Anni: 2015-01-01<br>Numero: 963\",\"Anni: 2016-01-01<br>Numero: 1,073\",\"Anni: 2017-01-01<br>Numero: 1,095\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":54.794520547945211},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Omicidio volontario\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-46.450000000000003,1437.45],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"200\",\"400\",\"600\",\"800\",\"1,000\",\"1,200\",\"1,400\"],\"tickvals\":[-7.1054273576010019e-15,200,400.00000000000006,600,800,1000,1200,1400],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"200\",\"400\",\"600\",\"800\",\"1,000\",\"1,200\",\"1,400\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f7bd3f9d2\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f19b68981\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f7bd3f9d2\",\"visdat\":{\"13c6f7bd3f9d2\":[\"function (y) \",\"x\"],\"13c6f19b68981\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Omicidio Volontario Consumato\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nomicidio_volontario_consumato <- felonies %>% \n  filter(tipo_reato == \"omicidio volontario consumato\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_volontario_consumato,\n  x = omicidio_volontario_consumato$year,\n  y = omicidio_volontario_consumato$value,\n  x_text = \"Anni\",\n  y_text = \"Numero\",\n  colour = omicidio_volontario_consumato$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio volontario consumato\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-3fb2655b16eaeedb0652\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-3fb2655b16eaeedb0652\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[12,23,20,24,19,32,16,20,22,22,14,27,27,24],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[552,696,752,868,700,708,664,674,556,512,581,488,589,561],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[555,761,807,909,942,951,757,767,731,729,590,449,493,534,595,515,616,585],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[12,23,20,24,19,32,16,20,22,22,14,27,27,24],\"text\":[\"Anni: 2000-01-01<br>Numero: 12\",\"Anni: 2001-01-01<br>Numero: 23\",\"Anni: 2002-01-01<br>Numero: 20\",\"Anni: 2005-01-01<br>Numero: 24\",\"Anni: 2006-01-01<br>Numero: 19\",\"Anni: 2007-01-01<br>Numero: 32\",\"Anni: 2008-01-01<br>Numero: 16\",\"Anni: 2009-01-01<br>Numero: 20\",\"Anni: 2010-01-01<br>Numero: 22\",\"Anni: 2013-01-01<br>Numero: 22\",\"Anni: 2014-01-01<br>Numero: 14\",\"Anni: 2015-01-01<br>Numero: 27\",\"Anni: 2016-01-01<br>Numero: 27\",\"Anni: 2017-01-01<br>Numero: 24\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[552,696,752,868,700,708,664,674,556,512,581,488,589,561],\"text\":[\"Anni: 2000-01-01<br>Numero: 552\",\"Anni: 2001-01-01<br>Numero: 696\",\"Anni: 2002-01-01<br>Numero: 752\",\"Anni: 2005-01-01<br>Numero: 868\",\"Anni: 2006-01-01<br>Numero: 700\",\"Anni: 2007-01-01<br>Numero: 708\",\"Anni: 2008-01-01<br>Numero: 664\",\"Anni: 2009-01-01<br>Numero: 674\",\"Anni: 2010-01-01<br>Numero: 556\",\"Anni: 2013-01-01<br>Numero: 512\",\"Anni: 2014-01-01<br>Numero: 581\",\"Anni: 2015-01-01<br>Numero: 488\",\"Anni: 2016-01-01<br>Numero: 589\",\"Anni: 2017-01-01<br>Numero: 561\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[555,761,807,909,942,951,757,767,731,729,590,449,493,534,595,515,616,585],\"text\":[\"Anni: 2000-01-01<br>Numero: 555\",\"Anni: 2001-01-01<br>Numero: 761\",\"Anni: 2002-01-01<br>Numero: 807\",\"Anni: 2003-01-01<br>Numero: 909\",\"Anni: 2004-01-01<br>Numero: 942\",\"Anni: 2005-01-01<br>Numero: 951\",\"Anni: 2006-01-01<br>Numero: 757\",\"Anni: 2007-01-01<br>Numero: 767\",\"Anni: 2008-01-01<br>Numero: 731\",\"Anni: 2009-01-01<br>Numero: 729\",\"Anni: 2010-01-01<br>Numero: 590\",\"Anni: 2011-01-01<br>Numero: 449\",\"Anni: 2012-01-01<br>Numero: 493\",\"Anni: 2013-01-01<br>Numero: 534\",\"Anni: 2014-01-01<br>Numero: 595\",\"Anni: 2015-01-01<br>Numero: 515\",\"Anni: 2016-01-01<br>Numero: 616\",\"Anni: 2017-01-01<br>Numero: 585\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":43.105022831050235},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Omicidio volontario consumato\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-34.950000000000003,997.95000000000005],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"100\",\"200\",\"300\",\"400\",\"500\",\"600\",\"700\",\"800\",\"900\"],\"tickvals\":[0,99.999999999999986,200,300,400,500.00000000000006,600,700,800,900],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"100\",\"200\",\"300\",\"400\",\"500\",\"600\",\"700\",\"800\",\"900\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f625a955d\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f29043f1d\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f625a955d\",\"visdat\":{\"13c6f625a955d\":[\"function (y) \",\"x\"],\"13c6f29043f1d\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Omicidio Volontario Tentato\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nomicidio_volontario_tentato <- felonies %>% \n  filter(tipo_reato == \"omicidio volontario tentato\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_volontario_tentato,\n  x = omicidio_volontario_tentato$year,\n  y = omicidio_volontario_tentato$value,\n  x_text = \"Anni\",\n  y_text = \"Numero\",\n  colour = omicidio_volontario_tentato$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio volontario tentato\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-97559b1782c96453bd1d\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-97559b1782c96453bd1d\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[9,16,12,18,12,12,15,21,23,16,17,22,16,22],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[299,390,331,430,338,423,401,574,428,465,397,426,441,488],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[292,416,347,372,385,419,352,459,420,641,433,501,450,481,414,448,457,510],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[9,16,12,18,12,12,15,21,23,16,17,22,16,22],\"text\":[\"Anni: 2000-01-01<br>Numero: 9\",\"Anni: 2001-01-01<br>Numero: 16\",\"Anni: 2002-01-01<br>Numero: 12\",\"Anni: 2005-01-01<br>Numero: 18\",\"Anni: 2006-01-01<br>Numero: 12\",\"Anni: 2007-01-01<br>Numero: 12\",\"Anni: 2008-01-01<br>Numero: 15\",\"Anni: 2009-01-01<br>Numero: 21\",\"Anni: 2010-01-01<br>Numero: 23\",\"Anni: 2013-01-01<br>Numero: 16\",\"Anni: 2014-01-01<br>Numero: 17\",\"Anni: 2015-01-01<br>Numero: 22\",\"Anni: 2016-01-01<br>Numero: 16\",\"Anni: 2017-01-01<br>Numero: 22\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[299,390,331,430,338,423,401,574,428,465,397,426,441,488],\"text\":[\"Anni: 2000-01-01<br>Numero: 299\",\"Anni: 2001-01-01<br>Numero: 390\",\"Anni: 2002-01-01<br>Numero: 331\",\"Anni: 2005-01-01<br>Numero: 430\",\"Anni: 2006-01-01<br>Numero: 338\",\"Anni: 2007-01-01<br>Numero: 423\",\"Anni: 2008-01-01<br>Numero: 401\",\"Anni: 2009-01-01<br>Numero: 574\",\"Anni: 2010-01-01<br>Numero: 428\",\"Anni: 2013-01-01<br>Numero: 465\",\"Anni: 2014-01-01<br>Numero: 397\",\"Anni: 2015-01-01<br>Numero: 426\",\"Anni: 2016-01-01<br>Numero: 441\",\"Anni: 2017-01-01<br>Numero: 488\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[292,416,347,372,385,419,352,459,420,641,433,501,450,481,414,448,457,510],\"text\":[\"Anni: 2000-01-01<br>Numero: 292\",\"Anni: 2001-01-01<br>Numero: 416\",\"Anni: 2002-01-01<br>Numero: 347\",\"Anni: 2003-01-01<br>Numero: 372\",\"Anni: 2004-01-01<br>Numero: 385\",\"Anni: 2005-01-01<br>Numero: 419\",\"Anni: 2006-01-01<br>Numero: 352\",\"Anni: 2007-01-01<br>Numero: 459\",\"Anni: 2008-01-01<br>Numero: 420\",\"Anni: 2009-01-01<br>Numero: 641\",\"Anni: 2010-01-01<br>Numero: 433\",\"Anni: 2011-01-01<br>Numero: 501\",\"Anni: 2012-01-01<br>Numero: 450\",\"Anni: 2013-01-01<br>Numero: 481\",\"Anni: 2014-01-01<br>Numero: 414\",\"Anni: 2015-01-01<br>Numero: 448\",\"Anni: 2016-01-01<br>Numero: 457\",\"Anni: 2017-01-01<br>Numero: 510\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":43.105022831050235},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Omicidio volontario tentato\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-22.600000000000001,672.60000000000002],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"50\",\"100\",\"150\",\"200\",\"250\",\"300\",\"350\",\"400\",\"450\",\"500\",\"550\",\"600\",\"650\"],\"tickvals\":[3.5527136788005009e-15,49.999999999999993,100,150,200,250.00000000000003,300,350,399.99999999999994,450,500,550,600,650],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"50\",\"100\",\"150\",\"200\",\"250\",\"300\",\"350\",\"400\",\"450\",\"500\",\"550\",\"600\",\"650\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f58b920c4\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f6216515d\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f58b920c4\",\"visdat\":{\"13c6f58b920c4\":[\"function (y) \",\"x\"],\"13c6f6216515d\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Omicidio Preterintenzionale\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nomicidio_volontario_preterintenzionale <- felonies %>% \n  filter(tipo_reato == \"omicidio volontario preterintenzionale\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = omicidio_volontario_preterintenzionale,\n  x = omicidio_volontario_preterintenzionale$year,\n  y = omicidio_volontario_preterintenzionale$value,\n  x_text = \"Anni\",\n  y_text = \"Numero\",\n  colour = omicidio_volontario_preterintenzionale$sesso,\n  palette = \"Dark2\",\n  title = \"Omicidio volontario preterintenzionale\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Non ci sono dati disponibili.\"\n```\n\n\n:::\n:::\n\n\n\n\n## Violenza Privata Tentata\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nviolenza_privata_tentata <- felonies %>% \n  filter(tipo_reato == \"violenza privata tentata\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = violenza_privata_tentata,\n  x = violenza_privata_tentata$year,\n  y = violenza_privata_tentata$value,\n  x_text = \"Anni\",\n  y_text = \"Numero\",\n  colour = violenza_privata_tentata$sesso,\n  palette = \"Dark2\",\n  title = \"Violenza Privata Tentata\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-f9fdd00fb8f6d160a7ad\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-f9fdd00fb8f6d160a7ad\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[24,37,11,30,32,34,37,62,57,0,0,0,43,29],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[284,319,329,330,304,426,442,464,446,0,0,0,336,306],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[308,356,340,360,336,460,479,526,503,0,0,0,379,335],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[24,37,11,30,32,34,37,62,57,0,0,0,43,29],\"text\":[\"Anni: 2000-01-01<br>Numero: 24\",\"Anni: 2001-01-01<br>Numero: 37\",\"Anni: 2002-01-01<br>Numero: 11\",\"Anni: 2005-01-01<br>Numero: 30\",\"Anni: 2006-01-01<br>Numero: 32\",\"Anni: 2007-01-01<br>Numero: 34\",\"Anni: 2008-01-01<br>Numero: 37\",\"Anni: 2009-01-01<br>Numero: 62\",\"Anni: 2010-01-01<br>Numero: 57\",\"Anni: 2013-01-01<br>Numero: 0\",\"Anni: 2014-01-01<br>Numero: 0\",\"Anni: 2015-01-01<br>Numero: 0\",\"Anni: 2016-01-01<br>Numero: 43\",\"Anni: 2017-01-01<br>Numero: 29\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[284,319,329,330,304,426,442,464,446,0,0,0,336,306],\"text\":[\"Anni: 2000-01-01<br>Numero: 284\",\"Anni: 2001-01-01<br>Numero: 319\",\"Anni: 2002-01-01<br>Numero: 329\",\"Anni: 2005-01-01<br>Numero: 330\",\"Anni: 2006-01-01<br>Numero: 304\",\"Anni: 2007-01-01<br>Numero: 426\",\"Anni: 2008-01-01<br>Numero: 442\",\"Anni: 2009-01-01<br>Numero: 464\",\"Anni: 2010-01-01<br>Numero: 446\",\"Anni: 2013-01-01<br>Numero: 0\",\"Anni: 2014-01-01<br>Numero: 0\",\"Anni: 2015-01-01<br>Numero: 0\",\"Anni: 2016-01-01<br>Numero: 336\",\"Anni: 2017-01-01<br>Numero: 306\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[308,356,340,360,336,460,479,526,503,0,0,0,379,335],\"text\":[\"Anni: 2000-01-01<br>Numero: 308\",\"Anni: 2001-01-01<br>Numero: 356\",\"Anni: 2002-01-01<br>Numero: 340\",\"Anni: 2005-01-01<br>Numero: 360\",\"Anni: 2006-01-01<br>Numero: 336\",\"Anni: 2007-01-01<br>Numero: 460\",\"Anni: 2008-01-01<br>Numero: 479\",\"Anni: 2009-01-01<br>Numero: 526\",\"Anni: 2010-01-01<br>Numero: 503\",\"Anni: 2013-01-01<br>Numero: 0\",\"Anni: 2014-01-01<br>Numero: 0\",\"Anni: 2015-01-01<br>Numero: 0\",\"Anni: 2016-01-01<br>Numero: 379\",\"Anni: 2017-01-01<br>Numero: 335\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":43.105022831050235},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Violenza Privata Tentata\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-26.300000000000001,552.29999999999995],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"50\",\"100\",\"150\",\"200\",\"250\",\"300\",\"350\",\"400\",\"450\",\"500\",\"550\"],\"tickvals\":[0,50,100,150,200,250,300.00000000000006,350,400,449.99999999999994,499.99999999999994,550],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"50\",\"100\",\"150\",\"200\",\"250\",\"300\",\"350\",\"400\",\"450\",\"500\",\"550\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f63c88186\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6fafb798\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f63c88186\",\"visdat\":{\"13c6f63c88186\":[\"function (y) \",\"x\"],\"13c6fafb798\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Violenza Privata\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nviolenza_privata <- felonies %>% \n  filter(tipo_reato == \"violenza privata\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = violenza_privata,\n  x = violenza_privata$year,\n  y = violenza_privata$value,\n  x_text = \"Anni\",\n  y_text = \"Numero\",\n  colour = violenza_privata$sesso,\n  palette = \"Dark2\",\n  title = \"Violenza Privata\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-0dfe8f1d0b353c4a0e5c\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-0dfe8f1d0b353c4a0e5c\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[104,125,91,125,145,150,169,205,176,127,140,163,152,140],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[1185,1216,1299,1292,1240,1611,1695,1897,1669,1400,1157,1291,1238,1254],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[965,961,1046,1119,1057,1037,1020,1269,1357,1537,1274,1196,1164,1527,1297,1454,1390,1394],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[104,125,91,125,145,150,169,205,176,127,140,163,152,140],\"text\":[\"Anni: 2000-01-01<br>Numero: 104\",\"Anni: 2001-01-01<br>Numero: 125\",\"Anni: 2002-01-01<br>Numero: 91\",\"Anni: 2005-01-01<br>Numero: 125\",\"Anni: 2006-01-01<br>Numero: 145\",\"Anni: 2007-01-01<br>Numero: 150\",\"Anni: 2008-01-01<br>Numero: 169\",\"Anni: 2009-01-01<br>Numero: 205\",\"Anni: 2010-01-01<br>Numero: 176\",\"Anni: 2013-01-01<br>Numero: 127\",\"Anni: 2014-01-01<br>Numero: 140\",\"Anni: 2015-01-01<br>Numero: 163\",\"Anni: 2016-01-01<br>Numero: 152\",\"Anni: 2017-01-01<br>Numero: 140\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[1185,1216,1299,1292,1240,1611,1695,1897,1669,1400,1157,1291,1238,1254],\"text\":[\"Anni: 2000-01-01<br>Numero: 1,185\",\"Anni: 2001-01-01<br>Numero: 1,216\",\"Anni: 2002-01-01<br>Numero: 1,299\",\"Anni: 2005-01-01<br>Numero: 1,292\",\"Anni: 2006-01-01<br>Numero: 1,240\",\"Anni: 2007-01-01<br>Numero: 1,611\",\"Anni: 2008-01-01<br>Numero: 1,695\",\"Anni: 2009-01-01<br>Numero: 1,897\",\"Anni: 2010-01-01<br>Numero: 1,669\",\"Anni: 2013-01-01<br>Numero: 1,400\",\"Anni: 2014-01-01<br>Numero: 1,157\",\"Anni: 2015-01-01<br>Numero: 1,291\",\"Anni: 2016-01-01<br>Numero: 1,238\",\"Anni: 2017-01-01<br>Numero: 1,254\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167],\"y\":[965,961,1046,1119,1057,1037,1020,1269,1357,1537,1274,1196,1164,1527,1297,1454,1390,1394],\"text\":[\"Anni: 2000-01-01<br>Numero: 965\",\"Anni: 2001-01-01<br>Numero: 961\",\"Anni: 2002-01-01<br>Numero: 1,046\",\"Anni: 2003-01-01<br>Numero: 1,119\",\"Anni: 2004-01-01<br>Numero: 1,057\",\"Anni: 2005-01-01<br>Numero: 1,037\",\"Anni: 2006-01-01<br>Numero: 1,020\",\"Anni: 2007-01-01<br>Numero: 1,269\",\"Anni: 2008-01-01<br>Numero: 1,357\",\"Anni: 2009-01-01<br>Numero: 1,537\",\"Anni: 2010-01-01<br>Numero: 1,274\",\"Anni: 2011-01-01<br>Numero: 1,196\",\"Anni: 2012-01-01<br>Numero: 1,164\",\"Anni: 2013-01-01<br>Numero: 1,527\",\"Anni: 2014-01-01<br>Numero: 1,297\",\"Anni: 2015-01-01<br>Numero: 1,454\",\"Anni: 2016-01-01<br>Numero: 1,390\",\"Anni: 2017-01-01<br>Numero: 1,394\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":54.794520547945211},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Violenza Privata\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.69999999999998863,1987.3],\"tickmode\":\"array\",\"ticktext\":[\"200\",\"400\",\"600\",\"800\",\"1,000\",\"1,200\",\"1,400\",\"1,600\",\"1,800\"],\"tickvals\":[200,400,600,800,1000,1200,1400,1600,1800],\"categoryorder\":\"array\",\"categoryarray\":[\"200\",\"400\",\"600\",\"800\",\"1,000\",\"1,200\",\"1,400\",\"1,600\",\"1,800\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f19555852\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f32197c7c\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f19555852\",\"visdat\":{\"13c6f19555852\":[\"function (y) \",\"x\"],\"13c6f32197c7c\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Violenza Sessuale di Gruppo\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nviolenza_sessuale_gruppo <- felonies %>% \n  filter(tipo_reato == \"violenza sessuale di gruppo\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = violenza_sessuale_gruppo,\n  x = violenza_sessuale_gruppo$year,\n  y = violenza_sessuale_gruppo$value,\n  x_text = \"Anni\",\n  y_text = \"Numero\",\n  colour = violenza_sessuale_gruppo$sesso,\n  palette = \"Dark2\",\n  title = \"Violenza Sessuale di Gruppo\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-777bfea824012911bf15\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-777bfea824012911bf15\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[0,2,0,2,2,0,2,5,1,6,0,3,3,3],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[28,57,48,65,79,52,80,175,107,116,119,96,89,122],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[28,59,48,67,81,52,82,180,108,122,119,99,92,125],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[0,2,0,2,2,0,2,5,1,6,0,3,3,3],\"text\":[\"Anni: 2000-01-01<br>Numero: 0\",\"Anni: 2001-01-01<br>Numero: 2\",\"Anni: 2002-01-01<br>Numero: 0\",\"Anni: 2005-01-01<br>Numero: 2\",\"Anni: 2006-01-01<br>Numero: 2\",\"Anni: 2007-01-01<br>Numero: 0\",\"Anni: 2008-01-01<br>Numero: 2\",\"Anni: 2009-01-01<br>Numero: 5\",\"Anni: 2010-01-01<br>Numero: 1\",\"Anni: 2013-01-01<br>Numero: 6\",\"Anni: 2014-01-01<br>Numero: 0\",\"Anni: 2015-01-01<br>Numero: 3\",\"Anni: 2016-01-01<br>Numero: 3\",\"Anni: 2017-01-01<br>Numero: 3\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[28,57,48,65,79,52,80,175,107,116,119,96,89,122],\"text\":[\"Anni: 2000-01-01<br>Numero: 28\",\"Anni: 2001-01-01<br>Numero: 57\",\"Anni: 2002-01-01<br>Numero: 48\",\"Anni: 2005-01-01<br>Numero: 65\",\"Anni: 2006-01-01<br>Numero: 79\",\"Anni: 2007-01-01<br>Numero: 52\",\"Anni: 2008-01-01<br>Numero: 80\",\"Anni: 2009-01-01<br>Numero: 175\",\"Anni: 2010-01-01<br>Numero: 107\",\"Anni: 2013-01-01<br>Numero: 116\",\"Anni: 2014-01-01<br>Numero: 119\",\"Anni: 2015-01-01<br>Numero: 96\",\"Anni: 2016-01-01<br>Numero: 89\",\"Anni: 2017-01-01<br>Numero: 122\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[28,59,48,67,81,52,82,180,108,122,119,99,92,125],\"text\":[\"Anni: 2000-01-01<br>Numero: 28\",\"Anni: 2001-01-01<br>Numero: 59\",\"Anni: 2002-01-01<br>Numero: 48\",\"Anni: 2005-01-01<br>Numero: 67\",\"Anni: 2006-01-01<br>Numero: 81\",\"Anni: 2007-01-01<br>Numero: 52\",\"Anni: 2008-01-01<br>Numero: 82\",\"Anni: 2009-01-01<br>Numero: 180\",\"Anni: 2010-01-01<br>Numero: 108\",\"Anni: 2013-01-01<br>Numero: 122\",\"Anni: 2014-01-01<br>Numero: 119\",\"Anni: 2015-01-01<br>Numero: 99\",\"Anni: 2016-01-01<br>Numero: 92\",\"Anni: 2017-01-01<br>Numero: 125\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":43.105022831050235},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Violenza Sessuale di Gruppo\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-9,189],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"20\",\"40\",\"60\",\"80\",\"100\",\"120\",\"140\",\"160\",\"180\"],\"tickvals\":[0,20,40,60,80,100,120,140,160,180],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"20\",\"40\",\"60\",\"80\",\"100\",\"120\",\"140\",\"160\",\"180\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f5dcb1aee\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f41552f5d\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f5dcb1aee\",\"visdat\":{\"13c6f5dcb1aee\":[\"function (y) \",\"x\"],\"13c6f41552f5d\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Violenza Sessuale\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nviolenza_sessuale <- felonies %>% \n  filter(tipo_reato == \"violenza sessuale\") %>% \n  summarise(\n    value = sum(value),\n    .by = c(year, sesso)\n  )\n# plot\nplot_time_series(\n  t = violenza_sessuale,\n  x = violenza_sessuale$year,\n  y = violenza_sessuale$value,\n  x_text = \"Anni\",\n  y_text = \"Numero\",\n  colour = violenza_sessuale$sesso,\n  palette = \"Dark2\",\n  title = \"Violenza Sessuale\",\n  subtitle = \"Serie storica per sesso\",\n  xlabs = \"Anni\",\n  ylabs = \"Valore\",\n  legend_title = \"Sesso\",\n  is_percentage = FALSE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-547190855206cc42fc9a\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-547190855206cc42fc9a\">{\"x\":{\"data\":[{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[20,18,26,28,22,17,14,27,21,23,7,12,14,16],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[1131,1327,1328,1391,1297,1437,1375,2104,1634,1599,1326,1488,1344,1552],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[1151,1345,1354,1419,1319,1454,1389,2131,1655,1622,1333,1500,1358,1568],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[20,18,26,28,22,17,14,27,21,23,7,12,14,16],\"text\":[\"Anni: 2000-01-01<br>Numero: 20\",\"Anni: 2001-01-01<br>Numero: 18\",\"Anni: 2002-01-01<br>Numero: 26\",\"Anni: 2005-01-01<br>Numero: 28\",\"Anni: 2006-01-01<br>Numero: 22\",\"Anni: 2007-01-01<br>Numero: 17\",\"Anni: 2008-01-01<br>Numero: 14\",\"Anni: 2009-01-01<br>Numero: 27\",\"Anni: 2010-01-01<br>Numero: 21\",\"Anni: 2013-01-01<br>Numero: 23\",\"Anni: 2014-01-01<br>Numero: 7\",\"Anni: 2015-01-01<br>Numero: 12\",\"Anni: 2016-01-01<br>Numero: 14\",\"Anni: 2017-01-01<br>Numero: 16\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(27,158,119,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(27,158,119,1)\"}},\"hoveron\":\"points\",\"name\":\"femmine\",\"legendgroup\":\"femmine\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[1131,1327,1328,1391,1297,1437,1375,2104,1634,1599,1326,1488,1344,1552],\"text\":[\"Anni: 2000-01-01<br>Numero: 1,131\",\"Anni: 2001-01-01<br>Numero: 1,327\",\"Anni: 2002-01-01<br>Numero: 1,328\",\"Anni: 2005-01-01<br>Numero: 1,391\",\"Anni: 2006-01-01<br>Numero: 1,297\",\"Anni: 2007-01-01<br>Numero: 1,437\",\"Anni: 2008-01-01<br>Numero: 1,375\",\"Anni: 2009-01-01<br>Numero: 2,104\",\"Anni: 2010-01-01<br>Numero: 1,634\",\"Anni: 2013-01-01<br>Numero: 1,599\",\"Anni: 2014-01-01<br>Numero: 1,326\",\"Anni: 2015-01-01<br>Numero: 1,488\",\"Anni: 2016-01-01<br>Numero: 1,344\",\"Anni: 2017-01-01<br>Numero: 1,552\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(217,95,2,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(217,95,2,1)\"}},\"hoveron\":\"points\",\"name\":\"maschi\",\"legendgroup\":\"maschi\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10957,11323,11688,12784,13149,13514,13879,14245,14610,15706,16071,16436,16801,17167],\"y\":[1151,1345,1354,1419,1319,1454,1389,2131,1655,1622,1333,1500,1358,1568],\"text\":[\"Anni: 2000-01-01<br>Numero: 1,151\",\"Anni: 2001-01-01<br>Numero: 1,345\",\"Anni: 2002-01-01<br>Numero: 1,354\",\"Anni: 2005-01-01<br>Numero: 1,419\",\"Anni: 2006-01-01<br>Numero: 1,319\",\"Anni: 2007-01-01<br>Numero: 1,454\",\"Anni: 2008-01-01<br>Numero: 1,389\",\"Anni: 2009-01-01<br>Numero: 2,131\",\"Anni: 2010-01-01<br>Numero: 1,655\",\"Anni: 2013-01-01<br>Numero: 1,622\",\"Anni: 2014-01-01<br>Numero: 1,333\",\"Anni: 2015-01-01<br>Numero: 1,500\",\"Anni: 2016-01-01<br>Numero: 1,358\",\"Anni: 2017-01-01<br>Numero: 1,568\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(117,112,179,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(117,112,179,1)\"}},\"hoveron\":\"points\",\"name\":\"totale\",\"legendgroup\":\"totale\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":54.794520547945211},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Violenza Sessuale\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10646.5,17477.5],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"tickvals\":[10957,11688,12418,13149,13879,14610,15340,16071,16801],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2002\",\"2004\",\"2006\",\"2008\",\"2010\",\"2012\",\"2014\",\"2016\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Anni\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-99.200000000000003,2237.1999999999998],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"200\",\"400\",\"600\",\"800\",\"1,000\",\"1,200\",\"1,400\",\"1,600\",\"1,800\",\"2,000\",\"2,200\"],\"tickvals\":[0,200,400.00000000000006,600,800,1000,1200,1399.9999999999998,1600,1800.0000000000002,1999.9999999999998,2200],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"200\",\"400\",\"600\",\"800\",\"1,000\",\"1,200\",\"1,400\",\"1,600\",\"1,800\",\"2,000\",\"2,200\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176002,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Valore\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Sesso\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"x unified\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"13c6f6b5e54ad\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"13c6f7e0960ec\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"13c6f6b5e54ad\",\"visdat\":{\"13c6f6b5e54ad\":[\"function (y) \",\"x\"],\"13c6f7e0960ec\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n:::\n\n# Popolazione\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npopulation <- read_db(\n  id = \"52_1194\",\n  dsd = TRUE,\n  path = \"~/R/OIID/topics/TEST/datasets/\",\n  version = \"1.5\"\n  )\npopulation_total <- population %>% \n  filter(\n    !is.na(year) &\n    freq == \"annuale\" & \n    cittadinanza == \"totale\" &\n      itter107 == \"Italia\" &\n      classe_eta == \"15-64 anni\" &\n      titolo_studio == \"totale\"\n  ) %>% \n  select(year, sesso, value)\n```\n:::\n\n\n\n\n# Totale in proporzione alla popolazione\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nomicidi_vs_popolazione <- felonies_total %>% \n  left_join(\n    population_total,\n    by = c(\"year\", \"sesso\"),\n    suffix = c(\"_omicidi\", \"_popolazione\")\n  ) %>% \n  filter(!is.na(value_popolazione)) %>% \n  mutate(pct = value_omicidi / value_popolazione) %>% \n  rename(\n    omicidi = value_omicidi,\n    popolazione = value_popolazione\n    ) %>% \n  select(year, sesso, pct, omicidi, popolazione) %>% \n  pivot_longer(\n    cols = !c(\"year\", \"sesso\"),\n    names_to = \"variabile\",\n    values_to = \"valore\"\n  )\n```\n:::\n\n\n\n\n```{shinylive-r}\n#| standalone: true\n#| viewerHeight: 800\n\nsource(\"~/R/OIID/topics/function.R\")\nlibrary(tidyverse, verbose = FALSE)\nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(rsdmx)\nlibrary(owidR)\nlibrary(reticulate)\nlibrary(gt)\nlibrary(scales, verbose = FALSE)\nlibrary(janitor)\nlibrary(shiny)\nlibrary(shinylive)\nlibrary(thematic)\nlibrary(waiter)\nlibrary(plotly)\nlibrary(ggiraph)\nlibrary(fst)\nlibrary(readr)  # For reading and writing CSV files\nlibrary(R.utils)  # For gzip compression\n\nomicidi_vs_popolazione <- felonies_total %>% \n  left_join(\n    population_total,\n    by = c(\"year\", \"sesso\"),\n    suffix = c(\"_omicidi\", \"_popolazione\")\n  ) %>% \n  filter(!is.na(value_popolazione)) %>% \n  mutate(pct = value_omicidi / value_popolazione) %>% \n  rename(\n    omicidi = value_omicidi,\n    popolazione = value_popolazione\n    ) %>% \n  select(year, sesso, pct, omicidi, popolazione) %>% \n  pivot_longer(\n    cols = !c(\"year\", \"sesso\"),\n    names_to = \"variabile\",\n    values_to = \"valore\"\n  )\n\nui <- fluidPage(\n  sidebarLayout(\n    sidebarPanel(\n      selectizeInput(\n        inputId = \"sesso\",\n        label = \"Sesso\",\n        choices = unique(omicidi_vs_popolazione$sesso),\n        multiple = TRUE,\n        selected = c(\"maschi\", \"femmine\")\n      ),\n      selectizeInput(\n        inputId = \"variabile\",\n        label = \"Variabile\",\n        choices = unique(omicidi_vs_popolazione$variabile),\n        selected = \"value_omicidi\"\n      )\n    ),\n    mainPanel(\n      plotlyOutput(\"plot\", width = \"100%\", height = \"600px\")\n    )\n  )\n)\n\nserver <- function(input, output) {\n\n  data <- reactive({\n    omicidi_vs_popolazione %>% \n      filter(\n        sesso %in% input$sesso &\n          variabile %in% input$variabile\n      )\n  })\n  \n  output$plot <- renderPlotly({\n    \n    g <- ggplot(data(), aes(x = year, y = valore, colour = sesso)) +\n      geom_line() +\n      geom_point() +\n      scale_color_manual(\n        values = c(\"maschi\" = \"#1B9E77\",\n                   \"femmine\" = \"#D95F02\")\n      ) +\n      scale_x_date(\n        date_breaks = \"year\",\n        date_labels = \"%Y\"\n      ) +\n      labs(\n        title = \"Omicidi\",\n        subtitle = \"Per sesso e variabile\",\n        x = \"Anni\",\n        y = input$variabile,\n        color = \"Sesso\"\n      ) +\n      scale_y_continuous(breaks = scales::breaks_pretty(n = 10)) +\n      theme_minimal()\n    ggplotly(g) %>% \n      layout(hovermode = \"x unified\")\n    \n  })\n}\n\nshinyApp(ui = ui, server = server)\n```\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}